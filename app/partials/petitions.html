<div ng-controller="PetitionCtrl" xmlns="http://www.w3.org/1999/html">
    <div class="generalPage">
        <div id="contentHeader">
            <h2 class="contentHeaderTitle">Sitewide petitions</h2>
        </div>
        <section class="tab" ng-controller="TabController as panel">
            <ul class="tabNavGen">
                <li ng-class="{active:panel.isSelected(1) }"><a href ng-click="panel.selectTab(1)">View Petitions</a></li>
                <li ng-class="{active:panel.isSelected(2) }"><a href ng-click="panel.selectTab(2)">Create New Petition</a></li>
            </ul>
            <div ng-show="panel.isSelected(1)">
                <div class="content">
                    <p>Do you have a cause that you are passionate about bringing a change to? Create your petition here and get the support you need to make a change!</p>
                    <p>After you get enough people to sign your petition, take your voices to Washington here!</p>
                    <a href="http://www.house.gov/representatives/find/" target="_blank" class="buttons">Find Your Representative</a>

                    <a href="https://www.causes.com/" target="_blank" class="buttons"> Make a Pledge</a>
                    <br class="clear" />
                    <ul class="petitions">
                        <li ng-repeat="petition in petitions">
                            <div class="panel">
                                <div class="title ">
                                    <a rel="nofollow" href="#/petition/{{petition.title}}">{{petition.title}}</a>
                                </div>
                                <div class="">
                                     <span class="subheader"><span class="petitionFont"> {{petition.signaturecount}}</span> Signatures</span>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <div ng-hide="petitions.length">There are currently no active petitions. Why not start your own now?</div>
                </div>
            </div>
            <div ng-show="panel.isSelected(2)">
                <div class="content">
                    <div ng-class="{spinner:spinner}"></div>
                    <div ng-show="again">
                        <h2 style="color: #2164AA;">Create a petition</h2>
                        Give your petition a name. <input type="text" ng-hide="textorphoto" ng-model="title"/>
                        What is your petition for? <input type="text" ng-hide="textorphoto" ng-model="text"/>
                        <div ng-class="{spinner:spinner}"></div>
                        <br />
                        <div ng-bind="message"></div>

                        <button ng-click="submit()" class="button postfix small">Submit</button>
                    </div>
                    <div ng-hide="again">
                        <div ng-bind="message"></div>

                        <button ng-click="again = true" class="button postfix small">Create Another petition?</button>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>